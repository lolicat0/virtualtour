<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMVEC University VR Tour</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/1.4.2/aframe.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Montserrat:wght@300;400;500;600;700;800;900&display=swap');
        
        :root {
            --primary-color: rgba(54, 66, 155, 1);
            --primary-light: rgba(74, 86, 175, 1);
            --primary-dark: rgba(34, 46, 135, 1);
            --accent-color: rgba(255, 183, 0, 1);
            --accent-light: rgba(255, 207, 51, 1);
            --text-light: rgba(255, 255, 255, 0.95);
            --text-dark: rgba(40, 40, 40, 1);
            --gradient-primary: linear-gradient(135deg, rgba(39, 50, 135, 1), rgba(54, 66, 155, 1), rgba(87, 100, 195, 1));
            --gradient-gold: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            --box-shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.15);
            --box-shadow-heavy: 0 15px 50px rgba(0, 0, 0, 0.3);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            background-color: #f0f2ff;
            color: var(--text-dark);
        }

        /* Welcome Screen Animations */
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 15px rgba(255, 255, 255, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
            }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
        }

        /* Welcome Screen */
        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--text-light);
            z-index: 2000;
            transition: opacity 1s ease-in-out, transform 1s ease;
            overflow: hidden;
        }

        #welcome-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://res.cloudinary.com/drgpipjhr/image/upload/v1742191502/20250314_112730_211_10000_zrecvd.jpg');
            background-size: cover;
            background-position: center;
            opacity: 0.15;
            filter: blur(8px);
            pointer-events: none;
        }

        #welcome-screen::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(54, 66, 155, 0.4) 0%, rgba(32, 40, 115, 0.85) 70%);
            pointer-events: none;
        }

        .welcome-content {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 1200px;
            padding: 0 20px;
            text-align: center;
        }

        #welcome-logo {
            width: 220px;
            height: 220px;
            margin-bottom: 30px;
            animation: fadeInUp 1.2s ease, float 6s ease-in-out infinite;
            border-radius: 50%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.2),
                        0 0 30px rgba(255, 255, 255, 0.3);
            position: relative;
            z-index: 5;
            overflow: hidden;
        }

        #welcome-logo::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.3) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            animation: shimmer 6s infinite;
            pointer-events: none;
        }

        #welcome-title {
            font-size: 4.5em;
            margin-bottom: 20px;
            font-family: 'Playfair Display', serif;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            animation: fadeInUp 1.5s ease;
            font-weight: 800;
            background: var(--gradient-gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            letter-spacing: 1px;
            line-height: 1.2;
        }

        #welcome-subtitle {
            font-size: 1.8em;
            margin-bottom: 45px;
            font-weight: 300;
            max-width: 800px;
            line-height: 1.6;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            animation: fadeInUp 1.8s ease;
            letter-spacing: 0.5px;
        }

        #enter-button {
            padding: 18px 50px;
            font-size: 1.4em;
            background: var(--gradient-gold);
            border: none;
            color: var(--primary-dark);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: fadeInUp 2s ease, pulse 3s infinite 2s;
            position: relative;
            overflow: hidden;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.2),
                        0 0 20px rgba(255, 183, 0, 0.4);
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        #enter-button:hover {
            transform: translateY(-7px) scale(1.05);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3),
                        0 0 30px rgba(255, 183, 0, 0.6);
            letter-spacing: 3px;
        }
        
        #enter-button::before {
            content: '';
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: linear-gradient(
                to right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.3) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            animation: shimmer 6s infinite;
            pointer-events: none;
        }
       
        /* Home Page Style */
        #home-page {
            display: none;
            position: relative;
            width: 100%;
            background: linear-gradient(rgba(5, 10, 35, 0.7), rgba(5, 10, 35, 0.7)), 
                      url('https://res.cloudinary.com/drgpipjhr/image/upload/v1742191502/20250314_112730_211_10000_zrecvd.jpg') center/cover fixed no-repeat;
            overflow-y: auto;
            z-index: 1000;
            min-height: 100vh;
            opacity: 1;
            transition: opacity 1s ease;
        }

        .home-overlay {
            background-color: rgba(0, 0, 0, 0.5);
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header {
            text-align: center;
            padding: 40px 20px 30px;
            color: white;
            width: 100%;
            position: sticky;
            top: 0;
            background: linear-gradient(180deg, rgba(20, 30, 90, 0.95) 0%, rgba(54, 66, 155, 0.95) 100%);
            z-index: 100;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.25);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        .header h1 {
            font-size: 3.5em;
            margin-bottom: 15px;
            font-family: 'Playfair Display', serif;
            text-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
            font-weight: 700;
            letter-spacing: 1px;
            background: var(--gradient-gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            display: inline-block;
        }

        .header p {
            font-size: 1.3em;
            max-width: 800px;
            margin: 0 auto;
            font-style: italic;
            font-weight: 300;
            letter-spacing: 0.5px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            line-height: 1.6;
        }

        /* Navigation Menu */
        .nav-menu-container {
            position: sticky;
            top: 120px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            z-index: 99;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            padding: 10px 0;
        }

        .nav-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px 0;
            gap: 15px;
            justify-content: center;
            overflow-x: auto;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .nav-menu::-webkit-scrollbar {
            display: none;
        }

        .nav-item {
            padding: 15px 10px;
            background-color: transparent;
            color: var(--primary-dark);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-size: 1em;
            margin: 0 5px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-decoration: none;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            z-index: 1;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .nav-item i {
            font-size: 1.4em;
            margin-bottom: 8px;
        }
        
        /* Sub-Navigation Menu for Departments */
        .sub-nav-container {
            position: relative;
            width: 100%;
            display: none;
            background: rgba(240, 240, 255, 0.95);
            transition: all 0.4s ease;
            padding: 10px 0;
            border-top: 1px solid rgba(54, 66, 155, 0.2);
            border-bottom: 1px solid rgba(54, 66, 155, 0.2);
        }
        
        .sub-nav-container.active {
            display: block;
            animation: fadeInDown 0.4s ease;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .sub-nav-menu {
            display: flex;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0;
            justify-content: center;
            gap: 10px;
        }
        
        .sub-nav-item {
            padding: 8px 15px;
            background-color: rgba(255, 255, 255, 0.8);
            color: var(--primary-dark);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9em;
            transition: all 0.3s ease;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .sub-nav-item i {
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        .sub-nav-item:hover {
            background-color: rgba(54, 66, 155, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .sub-nav-item.active {
            background: linear-gradient(45deg, var(--primary-color), var(--primary-light));
            color: white;
            box-shadow: 0 4px 10px rgba(54, 66, 155, 0.3);
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--primary-color), var(--primary-light));
            opacity: 0;
            z-index: -1;
            transition: opacity 0.4s ease;
            border-radius: 50px;
            transform: translateY(5px);
        }

        .nav-item:hover {
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(54, 66, 155, 0.3);
        }

        .nav-item:hover::before {
            opacity: 1;
            transform: translateY(0);
        }

        .nav-item.active {
            background: linear-gradient(45deg, var(--primary-color), var(--primary-light));
            color: white;
            font-weight: 700;
            box-shadow: 0 10px 20px rgba(54, 66, 155, 0.4);
            transform: translateY(-3px);
        }

        .nav-item.active::before {
            opacity: 1;
        }

        /* Section Styles */
        .section {
            width: 90%;
            max-width: 1200px;
            margin: 60px auto;
            scroll-margin-top: 200px;
            animation: fadeInUp 0.8s ease;
            transform-style: preserve-3d;
            perspective: 1000px;
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.8s ease, transform 0.8s ease, box-shadow 1s ease;
        }

        .section-header {
            position: relative;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            color: white;
            padding: 25px 30px;
            font-size: 2em;
            text-align: center;
            font-family: 'PlayfairDisplay', serif;
            font-weight: 700;
            letter-spacing: 1px;
            border-radius: 15px 15px 0 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform-style: preserve-3d;
            overflow: hidden;
        }

        .section-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            animation: shimmer 8s infinite;
        }

        .section-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 0 0 15px 15px;
            padding: 35px;
            animation: fadeInUp 0.8s ease;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
            transform: translateZ(0);
            position: relative;
            z-index: 2;
        }
        
        /* Department Styles */
        .department-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .department-content.active {
            display: block;
        }
        
        .department-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.6em;
            margin-bottom: 25px;
            color: var(--primary-dark);
            font-weight: 600;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(54, 66, 155, 0.2);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .image-item {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            aspect-ratio: 4/3;
            transform-style: preserve-3d;
            transform: translateZ(0) rotateX(0) rotateY(0);
        }

        .image-item:hover {
            transform: translateY(-15px) scale(1.03);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }

        .image-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.7s ease;
        }

        .image-item:hover img {
            transform: scale(1.1);
        }

        .image-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, 
                rgba(0, 0, 0, 0) 0%, 
                rgba(0, 0, 0, 0.4) 50%, 
                rgba(0, 0, 0, 0.8) 100%);
            opacity: 0.7;
            transition: opacity 0.5s ease;
        }

        .image-item:hover .image-overlay {
            opacity: 0.9;
            background: linear-gradient(to bottom, 
                rgba(54, 66, 155, 0.3) 0%, 
                rgba(54, 66, 155, 0.6) 50%, 
                rgba(54, 66, 155, 0.9) 100%);
        }

        .image-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            color: white;
            text-align: center;
            font-size: 1.3em;
            transition: all 0.5s ease;
            font-weight: 600;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            transform: translateY(0);
        }

        .image-item:hover .image-caption {
            transform: translateY(-10px);
            font-size: 1.4em;
        }
        
        .view-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            color: var(--primary-dark);
            padding: 10px;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.5s ease;
        }
        
        .image-item:hover .view-indicator {
            transform: translateY(0);
            opacity: 1;
        }
        
        .view-indicator i {
            font-size: 1.5em;
        }

        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            border: none;
            font-size: 1.5em;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1000;
        }

        .back-to-top.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .back-to-top:hover {
            transform: translateY(-10px) scale(1.1);
            box-shadow: 0 15px 30px rgba(54, 66, 155, 0.4);
        }

        .back-to-home {
            position: fixed;
            top: 30px;
            left: 30px;
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            z-index: 1001;
            font-family: 'Montserrat', sans-serif;
            display: none;
            font-weight: 600;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .back-to-home:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            letter-spacing: 1.5px;
        }
        
        .back-to-home i {
            margin-right: 8px;
        }

        .media-info {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: rgba(255, 255, 255, 0.95);
            color: var(--primary-dark);
            padding: 15px 30px;
            border-radius: 50px;
            z-index: 998;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            font-size: 1.1em;
            text-align: center;
            min-width: 300px;
        }

        .media-info.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        .media-info strong {
            color: var(--primary-color);
            display: block;
            font-size: 1.2em;
            margin-top: 5px;
        }

        #control-panel {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 25px;
            z-index: 999;
        }

        .control-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.95);
            color: var(--primary-color);
            border: none;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: bold;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5em;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .control-btn:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            transform: translateY(-10px) scale(1.1);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .control-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
       
        #vr-toggle {
            position: relative;
            font-size: 1.2em;
            font-weight: 600;
        }
       
        #vr-toggle::after {
            content: '';
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: var(--accent-color);
            top: 10px;
            right: 10px;
            transition: all 0.5s ease;
            box-shadow: 0 0 10px rgba(255, 183, 0, 0.7);
        }
       
        #vr-toggle.active::after {
            background-color: #4CAF50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.7);
        }

        #vr-container {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: none;
            background-color: #000;
        }
        
        /* Loading message */
        #loading-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.8em;
            text-align: center;
            z-index: 1002;
            display: none;
            background: rgba(0, 0, 0, 0.8);
            padding: 25px 50px;
            border-radius: 50px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 500;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            min-width: 300px;
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            margin-top: 20px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-color);
            animation: spin 1s ease-in-out infinite;
        }

        /* Responsive adjustments */
        @media (max-width: 1024px) {
            #welcome-title {
                font-size: 3.5em;
            }
            
            .header h1 {
                font-size: 2.8em;
            }
            
            .image-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .control-btn {
                width: 60px;
                height: 60px;
            }
        }
        
        @media (max-width: 768px) {
            .image-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 15px;
            }

            .nav-menu {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 10px;
            }

            .nav-item {
                padding: 10px 8px;
                font-size: 0.85em;
                margin: 0 3px;
            }
            
            .nav-item i {
                font-size: 1.2em;
                margin-bottom: 5px;
            }

            #welcome-title {
                font-size: 2.8em;
            }

            #welcome-subtitle {
                font-size: 1.4em;
            }
            
            .header h1 {
                font-size: 2.2em;
            }
            
            .section-header {
                font-size: 1.8em;
            }
            
            .nav-menu-container {
                top: 110px;
            }
            
            .section {
                scroll-margin-top: 180px;
                margin: 40px auto;
            }
            
            .control-btn {
                width: 55px;
                height: 55px;
                font-size: 1.3em;
            }
            
            .back-to-home {
                top: 20px;
                left: 20px;
                padding: 12px 20px;
                font-size: 0.9em;
            }
            
            .back-to-top {
                width: 50px;
                height: 50px;
                bottom: 20px;
                right: 20px;
            }
        }
        
        @media (max-width: 480px) {
            #welcome-title {
                font-size: 2.2em;
            }
            
            #welcome-subtitle {
                font-size: 1.2em;
            }
            
            #enter-button {
                padding: 15px 30px;
                font-size: 1.2em;
            }
            
            .section-content {
                padding: 20px;
            }
            
            .header p {
                font-size: 1.1em;
            }
            
            .image-caption {
                font-size: 1.1em;
            }
            
            .control-btn {
                width: 50px;
                height: 50px;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Message -->
    <div id="loading-message">
        Loading 360° view...
        <div class="loading-spinner"></div>
    </div>

    <!-- Welcome Screen -->
    <div id="welcome-screen">
        <div class="welcome-content">
            <img id="welcome-logo" src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743755020/Screenshot_2025-04-04_135259_egcpey.png" alt="SMVEC University Logo">
            <h1 id="welcome-title">Welcome to SMVEC University</h1>
            <p id="welcome-subtitle">Experience our prestigious campus through an immersive virtual reality tour.</p>
            <button id="enter-button"><i class="fas fa-vr-cardboard"></i> Begin Your Journey</button>
        </div>
    </div>

    <!-- Home Page -->
    <div id="home-page">
        <div class="home-overlay">
            <div class="header">
                <div class="header-content">
                    <h1>SMVEC University Virtual Tour</h1>
                    <p>Discover our state-of-the-art campus facilities through an immersive 360° experience</p>
                </div>
            </div>
            
            <!-- Navigation Menu (sticky) -->
            <div class="nav-menu-container">
                <div class="nav-menu">
                    <a href="#ethnotech" class="nav-item">
                        <i class="fas fa-cogs"></i>
                        <span>Ethnotech</span>
                    </a>
                    <a href="#aicte" class="nav-item">
                        <i class="fas fa-certificate"></i>
                        <span>AICTE</span>
                    </a>
                    <a href="#engineering" class="nav-item">
                        <i class="fas fa-microchip"></i>
                        <span>Engineering</span>
                    </a>
                    <a href="#campus" class="nav-item active">
                        <i class="fas fa-university"></i>
                        <span>Campus</span>
                    </a>
                    <a href="#arts-science" class="nav-item">
                        <i class="fas fa-atom"></i>
                        <span>Arts & Science</span>
                    </a>
                    <a href="#agriculture" class="nav-item">
                        <i class="fas fa-leaf"></i>
                        <span>Agriculture</span>
                    </a>
                    <a href="#physiotherapy" class="nav-item">
                        <i class="fas fa-walking"></i>
                        <span>Physiotherapy</span>
                    </a>
                    <a href="#legal" class="nav-item">
                        <i class="fas fa-gavel"></i>
                        <span>Legal Education</span>
                    </a>
                    <a href="#pharmacy" class="nav-item">
                        <i class="fas fa-pills"></i>
                        <span>Pharmacy</span>
                    </a>
                    <a href="#architecture" class="nav-item">
                        <i class="fas fa-drafting-compass"></i>
                        <span>Architecture</span>
                    </a>
                    <a href="#allied-health" class="nav-item">
                        <i class="fas fa-heartbeat"></i>
                        <span>Allied Health</span>
                    </a>
                </div>
            </div>
            <!-- Sections -->
             
            <!-- Ethnotech Section -->
            <section id="ethnotech" class="section">
                <div class="section-header">Ethnotech</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582650/apple_formphotoeditor.com_zsqkfx.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582650/apple_formphotoeditor.com_zsqkfx.jpg" alt="Apple Lab">
                            <div class="image-caption">Apple Innovation Lab</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582644/schneider_formphotoeditor.com_xuomhx.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582644/schneider_formphotoeditor.com_xuomhx.jpg" alt="Schneider Lab 1">
                            <div class="image-caption">Schneider Electric Lab 1</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582643/schneider_2_formphotoeditor.com_l8i06s.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582643/schneider_2_formphotoeditor.com_l8i06s.jpg" alt="Schneider Lab 2">
                            <div class="image-caption">Schneider Electric Lab 2</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582653/IBM-nvidia_julon8.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582653/IBM-nvidia_julon8.jpg" alt="IBM Lab">
                            <div class="image-caption">IBM Center of Excellence</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582651/abb_01_uy7lkp.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582651/abb_01_uy7lkp.jpg" alt="ABB Lab">
                            <div class="image-caption">ABB Innovation Center</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582649/ethno_staff_room_formphotoeditor.com_u77fqm.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582649/ethno_staff_room_formphotoeditor.com_u77fqm.jpg" alt="Staff Room">
                            <div class="image-caption">Faculty Research Room</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582650/arvr_lab_formphotoeditor.com_hskvdk.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582650/arvr_lab_formphotoeditor.com_hskvdk.jpg" alt="AR/VR Lab">
                            <div class="image-caption">AR/VR Development Lab</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582645/festo_01_formphotoeditor.com_meh6pe.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582645/festo_01_formphotoeditor.com_meh6pe.jpg" alt="Festo Lab 1">
                            <div class="image-caption">Festo Automation Lab 1</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582645/festo_02_formphotoeditor.com_vluk7d.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582645/festo_02_formphotoeditor.com_vluk7d.jpg" alt="Festo Lab 2">
                            <div class="image-caption">Festo Automation Lab 2</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582645/prometric_centre_formphotoeditor.com_rd4mj0.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582645/prometric_centre_formphotoeditor.com_rd4mj0.jpg" alt="Prometric Centre">
                            <div class="image-caption">Prometric Testing Centre</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582641/software_lab_formphotoeditor.com_fsbbik.jpg" data-category="ethnotech">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582641/software_lab_formphotoeditor.com_fsbbik.jpg" alt="Intel Lab">
                            <div class="image-caption">Intel Innovation Center</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- AICTE Section -->
            <section id="aicte" class="section">
                <div class="section-header">AICTE</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582650/idea_lab_entrance_formphotoeditor.com_egm57v.jpg" data-category="aicte">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582650/idea_lab_entrance_formphotoeditor.com_egm57v.jpg" alt="AICTE Center">
                            <div class="image-caption">AICTE Innovation Center</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582649/additive_manufacturing_lab_formphotoeditor.com_naeafg.jpg" data-category="aicte">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582649/additive_manufacturing_lab_formphotoeditor.com_naeafg.jpg" alt="AICTE Training Room">
                            <div class="image-caption">Additive Manufacturing Lab</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582646/mechanical_section_formphotoeditor.com_bekfq9.jpg" data-category="aicte">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582646/mechanical_section_formphotoeditor.com_bekfq9.jpg" alt="AICTE Training Room">
                            <div class="image-caption">Mechanical Section Lab</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582647/electronic_product_desing_lab_formphotoeditor.com_vofwdj.jpg" data-category="aicte">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582647/electronic_product_desing_lab_formphotoeditor.com_vofwdj.jpg" alt="AICTE Training Room">
                            <div class="image-caption">Electronic Product Design Lab</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743656655/iot_idea_lab_formphotoeditor.com_qjlqwl.jpg" data-category="aicte">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743656655/iot_idea_lab_formphotoeditor.com_qjlqwl.jpg" alt="AICTE Training Room">
                            <div class="image-caption">Internet Of Things Lab</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582647/idea_seminar_lab__formphotoeditor.com_sqepmu.jpg" data-category="aicte">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582647/idea_seminar_lab__formphotoeditor.com_sqepmu.jpg" alt="AICTE Training Room">
                            <div class="image-caption">Seminar Hall</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
             <!-- Engineering Section with Department Tabs -->
             <section id="engineering" class="section">
                <div class="section-header">Engineering</div>
                <div class="sub-nav-container" id="engineering-departments">
                    <div class="sub-nav-menu">
                        <a href="#eng-ece" class="sub-nav-item" data-target="ece-content"><i class="fas fa-microchip"></i>ECE</a>
                        <a href="#eng-csbs" class="sub-nav-item" data-target="csbs-content"><i class="fas fa-database"></i>CSBS</a>
                        <a href="#eng-cce" class="sub-nav-item" data-target="cce-content"><i class="fas fa-network-wired"></i>CCE</a>
                        <a href="#eng-cse" class="sub-nav-item active" data-target="cse-content"><i class="fas fa-laptop-code"></i>CSE</a>
                        <a href="#eng-eee" class="sub-nav-item" data-target="eee-content"><i class="fas fa-bolt"></i>EEE</a>
                        <a href="#eng-it" class="sub-nav-item" data-target="it-content"><i class="fas fa-desktop"></i>IT</a>
                        <a href="#eng-mech" class="sub-nav-item" data-target="mech-content"><i class="fas fa-cogs"></i>Mechanical</a>
                        <a href="#eng-civil" class="sub-nav-item" data-target="civil-content"><i class="fas fa-hard-hat"></i>Civil</a>
                        <a href="#eng-bme" class="sub-nav-item" data-target="bme-content"><i class="fas fa-stethoscope"></i>BME</a>
                        <a href="#eng-mechatronics" class="sub-nav-item" data-target="mechatronics-content"><i class="fas fa-robot"></i>Mechatronics</a>
                        <a href="#eng-ice" class="sub-nav-item" data-target="ice-content"><i class="fas fa-tools"></i>ICE</a>
                        <a href="#eng-aids" class="sub-nav-item" data-target="aids-content"><i class="fas fa-brain"></i>AI&DS</a>
                    </div>
                </div>
                <div class="section-content">
                    <!-- ECE Department Content -->
<div id="ece-content" class="department-content">
    <h3 class="department-title">Electronics & Communication Engineering</h3>
    <div class="image-grid">
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582653/ece_dean_room_tvmygg.jpg" data-category="engineering-ece">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582653/ece_dean_room_tvmygg.jpg" alt="Dean Room">
            <div class="image-caption">Dean Room</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582652/ece_seminar_hall_agfs9s.jpg" data-category="engineering-ece">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582652/ece_seminar_hall_agfs9s.jpg" alt="Seminar Hall">
            <div class="image-caption">Seminar Hall</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582648/ece_lab1_formphotoeditor.com_op7n4m.jpg" data-category="engineering-ece">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582648/ece_lab1_formphotoeditor.com_op7n4m.jpg" alt="Lab1">
            <div class="image-caption">Lab1</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582652/ece_lab2_lluyrk.jpg" data-category="engineering-ece">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582652/ece_lab2_lluyrk.jpg" alt="Lab2">
            <div class="image-caption">Lab2</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582647/ece_lab3_formphotoeditor.com_xpvuwb.jpg" data-category="engineering-ece">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582647/ece_lab3_formphotoeditor.com_xpvuwb.jpg" alt="Lab3">
            <div class="image-caption">Lab3</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582652/ece_lab4_gokmek.jpg" data-category="engineering-ece">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582652/ece_lab4_gokmek.jpg" alt="Lab4">
            <div class="image-caption">Lab4</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
    </div>
</div>
                    
                    
                    <!-- CSBS Department Content -->
                    <div id="csbs-content" class="department-content">
                        <h3 class="department-title">Computer Science & Business Systems</h3>
                        <div class="image-grid">
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190498/20250314_113053_900_aiiedd.jpg" data-category="engineering-csbs">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190498/20250314_113053_900_aiiedd.jpg" alt="CSBS Lab">
                                <div class="image-caption">CSBS Computing Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- CCE Department Content -->
                    <div id="cce-content" class="department-content">
                        <h3 class="department-title">Computer & Communication Engineering</h3>
                        <div class="image-grid">
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190561/20250314_113028_576_fu3fov.jpg" data-category="engineering-cce">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190561/20250314_113028_576_fu3fov.jpg" alt="CCE Laboratory">
                                <div class="image-caption">Communication Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- EEE Department Content -->
<div id="eee-content" class="department-content">
    <h3 class="department-title">Electrical & Electronics Engineering</h3>
    <div class="image-grid">
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582652/eee_lab1_tizfsc.jpg" data-category="engineering-eee">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582652/eee_lab1_tizfsc.jpg" alt="Laboratory1">
            <div class="image-caption">Laboratory1</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582646/eee_lab2_formphotoeditor.com_jhmeur.jpg" data-category="engineering-eee">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582646/eee_lab2_formphotoeditor.com_jhmeur.jpg" alt="Laboratory2">
            <div class="image-caption">Laboratory2</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582644/eee_lab3_formphotoeditor.com_xqvahr.jpg" data-category="engineering-eee">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582644/eee_lab3_formphotoeditor.com_xqvahr.jpg" alt="Laboratory3">
            <div class="image-caption">Laboratory3</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
    </div>
</div>
<!-- CSE Department Content -->
<div id="cse-content" class="department-content active">
    <h3 class="department-title">Computer Science Engineering</h3>
    <div class="image-grid">
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/cse_placement_hall_formphotoeditor.com_fim12w.jpg" data-category="engineering-cse">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/cse_placement_hall_formphotoeditor.com_fim12w.jpg" alt="Placement Hall">
            <div class="image-caption">Placement Hall</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582649/cse_lab1_formphotoeditor.com_tg4syz.jpg" data-category="engineering-cse">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582649/cse_lab1_formphotoeditor.com_tg4syz.jpg" alt="Laboratory1">
            <div class="image-caption">Laboratory1</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/cse_lab2_formphotoeditor.com_qeivee.jpg" data-category="engineering-cse">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/cse_lab2_formphotoeditor.com_qeivee.jpg" alt="Laboratory2">
            <div class="image-caption">Laboratory2</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/cse_lab3_formphotoeditor.com_p6q1gi.jpg" data-category="engineering-cse">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/cse_lab3_formphotoeditor.com_p6q1gi.jpg" alt="Laboratory3">
            <div class="image-caption">Laboratory3</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
        </div>
    </div>
</div>

<!-- IT Department Content -->
<div id="it-content" class="department-content">
    <h3 class="department-title">Information Technology</h3>
    <div class="image-grid">
        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582640/it_lab_formphotoeditor.com_jkdwef.jpg" data-category="engineering-it">
            <div class="image-overlay"></div>
            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582640/it_lab_formphotoeditor.com_jkdwef.jpg" alt="Laboratory1">
            <div class="image-caption">Laboratory1</div>
            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>


                    <!-- Mechanical Department Content -->
                    <div id="mech-content" class="department-content">
                        <h3 class="department-title">Mechanical Engineering</h3>
                        <div class="image-grid">
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582640/mechanical_lab1_formphotoeditor.com_ucgufc.jpg
                            " data-category="engineering-mech">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582640/mechanical_lab1_formphotoeditor.com_ucgufc.jpg
                                " alt="Mechanical Laboratory">
                                <div class="image-caption">Simulation Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Civil Department Content -->
                    <div id="civil-content" class="department-content">
                        <h3 class="department-title">Civil Engineering</h3>
                        <div class="image-grid">
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582640/civil_lab_formphotoeditor.com_rumtmf.jpg" data-category="engineering-civil">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582640/civil_lab_formphotoeditor.com_rumtmf.jpg" alt="Civil Laboratory">
                                <div class="image-caption">Civil Engineering Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- BME Department Content -->
                    <div id="bme-content" class="department-content">
                        <h3 class="department-title">Biomedical Engineering</h3>
                        <div class="image-grid">
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582641/bme_lab_formphotoeditor.com_yxh8vc.jpg" data-category="engineering-bme">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582641/bme_lab_formphotoeditor.com_yxh8vc.jpg" alt="BME Lab">
                                <div class="image-caption">Biomedical Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Mechatronics Department Content -->
                    <div id="mechatronics-content" class="department-content">
                        <h3 class="department-title">Mechatronics Engineering</h3>
                        <div class="image-grid">
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582643/mechetronics_lab1_formphotoeditor.com_ncismv.jpg" data-category="engineering-mechatronics">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582643/mechetronics_lab1_formphotoeditor.com_ncismv.jpg" alt="Mechatronics Lab">
                                <div class="image-caption">Mechatronics Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/mechetronics_lab2_formphotoeditor.com_buukap.jpg" data-category="engineering-mechatronics">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/mechetronics_lab2_formphotoeditor.com_buukap.jpg" alt="Mechatronics Lab">
                                <div class="image-caption">Mechatronics Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ICE Department Content -->
                    <div id="ice-content" class="department-content">
                        <h3 class="department-title">Instrumentation & Control Engineering</h3>
                        <div class="image-grid">
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582643/ice_lab_formphotoeditor.com_eckp94.jpg" data-category="engineering-ice">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582643/ice_lab_formphotoeditor.com_eckp94.jpg" alt="ICE Lab">
                                <div class="image-caption">Instrumentation Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- AI&DS Department Content -->
                    <div id="aids-content" class="department-content">
                        <h3 class="department-title">Artificial Intelligence & Data Science</h3>
                        <div class="image-grid">
                            <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/aids_lab1_10000_b1wwao.jpg" data-category="engineering-aids">
                                <div class="image-overlay"></div>
                                <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743582638/aids_lab1_10000_b1wwao.jpg" alt="AI Lab">
                                <div class="image-caption">AI & Data Science Lab</div>
                                <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="campus" class="section">
                <div class="section-header">Campus</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743753190/20250404_131710_587_formphotoeditor.com_wjfmhk.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743753190/20250404_131710_587_formphotoeditor.com_wjfmhk.jpg" alt="Entrance">
                            <div class="image-caption">Main Entrance</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1741600021/20250226_150455_978_10000_azr1v2.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1741600021/20250226_150455_978_10000_azr1v2.jpg" alt="Campus View">
                            <div class="image-caption">Campus Panorama</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742191502/20250314_112507_504_10000_nbzgqq.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742191502/20250314_112507_504_10000_nbzgqq.jpg" alt="Multi Purpose Hall">
                            <div class="image-caption">Multi Purpose Hall</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190479/20250314_112752_136_nft24p.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190479/20250314_112752_136_nft24p.jpg" alt="Office Room">
                            <div class="image-caption">Administrative Office</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190479/20250314_112821_789_ldevcf.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190479/20250314_112821_789_ldevcf.jpg" alt="Library">
                            <div class="image-caption">Central Library</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190544/20250314_113242_868_s5ri4a.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190544/20250314_113242_868_s5ri4a.jpg" alt="Center of Excellence">
                            <div class="image-caption">Temple</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743675731/20250403_144920_590_uahvqo.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743675731/20250403_144920_590_uahvqo.jpg" alt="Center of Excellence">
                            <div class="image-caption">Basketball ground</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190544/20250314_113242_868_s5ri4a.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190544/20250314_113242_868_s5ri4a.jpg" alt="Center of Excellence">
                            <div class="image-caption">View 1 </div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190544/20250314_113242_868_s5ri4a.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742190544/20250314_113242_868_s5ri4a.jpg" alt="Center of Excellence">
                            <div class="image-caption">View 2</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/drgpipjhr/image/upload/v1741603363/20250305_122155_911_10000_v9dp01.jpg" data-category="campus">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/drgpipjhr/image/upload/v1741603363/20250305_122155_911_10000_v9dp01.jpg" alt="Center of Excellence">
                            <div class="image-caption">Ground</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
            
           
            
            <section id="architecture" class="section">
                <div class="section-header">Architecture</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="" data-category="architecture">
                            <div class="image-overlay"></div>
                            <img src="" alt="Architecture Building">
                            <div class="image-caption">Architecture Building</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="arts-science" class="section">
                <div class="section-header">Arts & Science</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="" data-category="arts-science">
                            <div class="image-overlay"></div>
                            <img src="" alt="Arts Building">
                            <div class="image-caption">Arts Building</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="allied-health" class="section">
                <div class="section-header">Allied Health Science</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="" data-category="allied-health">
                            <div class="image-overlay"></div>
                            <img src="" alt="Health Science Building">
                            <div class="image-caption">Health Science Building</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="agriculture" class="section">
                <div class="section-header">Agriculture</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="" data-category="agriculture">
                            <div class="image-overlay"></div>
                            <img src="" alt="Agriculture Field">
                            <div class="image-caption">Agricultural Research Fields</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="physiotherapy" class="section">
                <div class="section-header">Physiotherapy</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="" data-category="physiotherapy">
                            <div class="image-overlay"></div>
                            <img src="" alt="Physiotherapy Center">
                            <div class="image-caption">Physiotherapy Center</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
            <section id="legal" class="section">
                <div class="section-header">Legal Education</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743674058/20250403_145054_458_1_qncn4j.jpg" data-category="legal">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743674058/20250403_145054_458_1_qncn4j.jpg" alt="Law Building">
                            <div class="image-caption">Infrastructure</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743673869/20250403_145215_077_pc5tbo.jpg" data-category="legal">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743673869/20250403_145215_077_pc5tbo.jpg" alt="Law Building">
                            <div class="image-caption">Moot Court</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743674079/20250403_145029_789_mwsb6j.jpg" data-category="legal">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743674079/20250403_145029_789_mwsb6j.jpg" alt="Law Building">
                            <div class="image-caption">Library</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743673873/20250403_144939_250_xagkm5.jpg" data-category="legal">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743673873/20250403_144939_250_xagkm5.jpg" alt="Law Building">
                            <div class="image-caption">Interactive session</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743673873/20250403_144959_055_elluhs.jpg" data-category="legal">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743673873/20250403_144959_055_elluhs.jpg" alt="Law Building">
                            <div class="image-caption">Ethical Teaching</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                        <div class="image-item" data-type="image" data-src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743673864/20250403_145129_223_ibilk5.jpg" data-category="legal">
                            <div class="image-overlay"></div>
                            <img src="https://res.cloudinary.com/dugxrvrs5/image/upload/v1743673864/20250403_145129_223_ibilk5.jpg" alt="Law Building">
                            <div class="image-caption">Classroom</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="pharmacy" class="section">
                <div class="section-header">Pharmacy</div>
                <div class="section-content">
                    <div class="image-grid">
                        <div class="image-item" data-type="image" data-src="" data-category="pharmacy">
                            <div class="image-overlay"></div>
                            <img src="" alt="Pharmacy Lab">
                            <div class="image-caption">Pharmaceutical Laboratory</div>
                            <div class="view-indicator"><i class="fas fa-vr-cardboard"></i></div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Back to top button -->
    <button id="back-to-top" class="back-to-top"><i class="fas fa-chevron-up"></i></button>

    <button id="back-to-home" class="back-to-home"><i class="fas fa-home"></i> Back to Home</button>
   
    <div id="media-info" class="media-info">Currently viewing: <strong id="current-media-name"></strong></div>
   
    <div id="control-panel">
        <button id="prev-btn" class="control-btn"><i class="fas fa-chevron-left"></i></button>
        <button id="vr-toggle" class="control-btn"><i class="fas fa-expand"></i></button>
        <button id="next-btn" class="control-btn"><i class="fas fa-chevron-right"></i></button>
    </div>
   
    <!-- A-Frame scene for VR -->
    <div id="vr-container">
        <a-scene embedded vr-mode-ui="enabled: false">
            <a-assets timeout="10000">
                <!-- Preload images for better performance -->
                <img id="skybox-placeholder" src="https://res.cloudinary.com/drgpipjhr/image/upload/v1742191502/20250314_112730_211_10000_zrecvd.jpg" crossorigin="anonymous">
            </a-assets>
            <a-sky id="main-sky" src="#skybox-placeholder" rotation="0 -90 0"></a-sky>
            <a-entity position="0 1.6 0">
                <a-camera look-controls wasd-controls="acceleration: 100"></a-camera>
            </a-entity>
        </a-scene>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get DOM elements
            const welcomeScreen = document.getElementById('welcome-screen');
            const enterButton = document.getElementById('enter-button');
            const homePage = document.getElementById('home-page');
            const backToHome = document.getElementById('back-to-home');
            const imageItems = document.querySelectorAll('.image-item');
            const mediaInfo = document.getElementById('media-info');
            const currentMediaName = document.getElementById('current-media-name');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const vrToggle = document.getElementById('vr-toggle');
            const vrContainer = document.getElementById('vr-container');
            const controlPanel = document.getElementById('control-panel');
            const loadingMessage = document.getElementById('loading-message');
            const backToTop = document.getElementById('back-to-top');
            const navItems = document.querySelectorAll('.nav-item');
            const sections = document.querySelectorAll('.section');
            
            // Global variables
            let currentMediaIndex = -1;
            let currentCategory = 'campus';
            let isFullscreenMode = false;
            let skyImageLoaded = false;
            let preloadedImages = {};

            // Function to toggle fullscreen
            function toggleFullScreen() {
                if (!document.fullscreenElement) {
                    const vrContainerElement = vrContainer;
                    if (vrContainerElement.requestFullscreen) {
                        vrContainerElement.requestFullscreen();
                    } else if (vrContainerElement.mozRequestFullScreen) { // Firefox
                        vrContainerElement.mozRequestFullScreen();
                    } else if (vrContainerElement.webkitRequestFullscreen) { // Chrome, Safari and Opera
                        vrContainerElement.webkitRequestFullscreen();
                    } else if (vrContainerElement.msRequestFullscreen) { // IE/Edge
                        vrContainerElement.msRequestFullscreen();
                    }
                    vrToggle.classList.add('active');
                    isFullscreenMode = true;
                    
                    // Show notification
                    mediaInfo.innerHTML = '<i class="fas fa-expand"></i> Fullscreen mode enabled';
                    mediaInfo.classList.add('visible');
                    setTimeout(() => {
                        mediaInfo.classList.remove('visible');
                    }, 2000);
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.mozCancelFullScreen) { // Firefox
                        document.mozCancelFullScreen();
                    } else if (document.webkitExitFullscreen) { // Chrome, Safari and Opera
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) { // IE/Edge
                        document.msExitFullscreen();
                    }
                    vrToggle.classList.remove('active');
                    isFullscreenMode = false;
                    
                    // Show notification
                    mediaInfo.innerHTML = '<i class="fas fa-compress"></i> Fullscreen mode disabled';
                    mediaInfo.classList.add('visible');
                    setTimeout(() => {
                        mediaInfo.classList.remove('visible');
                    }, 2000);
                }
            }

            // Listen for fullscreen change events
            document.addEventListener('fullscreenchange', handleFullscreenChange);
            document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
            document.addEventListener('mozfullscreenchange', handleFullscreenChange);
            document.addEventListener('MSFullscreenChange', handleFullscreenChange);

            function handleFullscreenChange() {
                if (!document.fullscreenElement && !document.webkitFullscreenElement && 
                    !document.mozFullScreenElement && !document.msFullscreenElement) {
                    vrToggle.classList.remove('active');
                    isFullscreenMode = false;
                }
            }

            // Welcome screen handler with enhanced animations
            enterButton.addEventListener('click', function() {
                welcomeScreen.style.opacity = '0';
                welcomeScreen.style.transform = 'scale(1.1)';
                welcomeScreen.style.transition = 'opacity 1s ease, transform 1s ease';
                
                setTimeout(() => {
                    welcomeScreen.style.display = 'none';
                    homePage.style.display = 'block';
                    homePage.style.opacity = '0';
                    
                    setTimeout(() => {
                        homePage.style.opacity = '1';
                        homePage.style.transition = 'opacity 1s ease';
                    }, 100);
                }, 1000);
            });

            // Back to top visibility with enhanced animation
            window.addEventListener('scroll', function() {
                if (window.scrollY > 300) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            });

            // Back to top functionality with smooth scrolling
            backToTop.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Highlight active navigation item based on scroll position
            window.addEventListener('scroll', function() {
                let current = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= (sectionTop - 250)) {
                        current = section.getAttribute('id');
                    }
                });
                
                navItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('href').substring(1) === current) {
                        item.classList.add('active');
                    }
                });
            });

            // Smooth scrolling for navigation links
            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    navItems.forEach(navItem => navItem.classList.remove('active'));
                    this.classList.add('active');
                    
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    // Add highlighted effect to the target section
                    targetSection.style.boxShadow = '0 0 0 3px var(--primary-color)';
                    setTimeout(() => {
                        targetSection.style.boxShadow = '';
                        targetSection.style.transition = 'box-shadow 1s ease';
                    }, 2000);
                    
                    window.scrollTo({
                        top: targetSection.offsetTop - 180,
                        behavior: 'smooth'
                    });
                    
                    // Show department sub-navigation for Engineering
                    if (targetId === '#engineering') {
                        const engDepartments = document.getElementById('engineering-departments');
                        if (engDepartments) {
                            setTimeout(() => {
                                engDepartments.classList.add('active');
                            }, 500);
                        }
                    }
                });
            });

            // Department tabs functionality
            function setupDepartmentTabs() {
                const engineeringTab = document.querySelector('a[href="#engineering"]');
                const engineeringDepartments = document.getElementById('engineering-departments');
                
                if (engineeringTab && engineeringDepartments) {
                    // Show departments on Engineering tab click
                    engineeringTab.addEventListener('click', function() {
                        setTimeout(() => {
                            engineeringDepartments.classList.add('active');
                        }, 200);
                    });
                    
                    // Handle department tab clicks
                    const departmentTabs = document.querySelectorAll('.sub-nav-item');
                    const departmentContents = document.querySelectorAll('.department-content');
                    
                    departmentTabs.forEach(tab => {
                        tab.addEventListener('click', function(e) {
                            e.preventDefault();
                            
                            // Update active tab
                            departmentTabs.forEach(t => t.classList.remove('active'));
                            this.classList.add('active');
                            
                            // Show corresponding content
                            const targetId = this.getAttribute('data-target');
                            departmentContents.forEach(content => {
                                content.classList.remove('active');
                            });
                            
                            document.getElementById(targetId).classList.add('active');
                        });
                    });
                    
                    // Show/hide departments based on scroll position
                    window.addEventListener('scroll', function() {
                        const engineeringSection = document.getElementById('engineering');
                        if (engineeringSection) {
                            const rect = engineeringSection.getBoundingClientRect();
                            const isVisible = (
                                rect.top <= window.innerHeight * 0.3 &&
                                rect.bottom >= window.innerHeight * 0.3
                            );
                            
                            if (isVisible) {
                                engineeringDepartments.classList.add('active');
                            } else {
                                engineeringDepartments.classList.remove('active');
                            }
                        }
                    });
                }
            }

            // Preload common 360 images
            function preloadImages() {
                const imagesToPreload = [
                    'https://res.cloudinary.com/drgpipjhr/image/upload/v1742191502/20250314_112730_211_10000_zrecvd.jpg',
                    'https://res.cloudinary.com/drgpipjhr/image/upload/v1742191502/20250314_112653_887_10000_dtxawb.jpg',
                    'https://res.cloudinary.com/drgpipjhr/image/upload/v1742191502/20250314_112507_504_10000_nbzgqq.jpg'
                ];
                
                imagesToPreload.forEach(src => {
                    const img = new Image();
                    img.crossOrigin = 'anonymous';
                    img.onload = function() {
                        preloadedImages[src] = true;
                        console.log('Preloaded image:', src);
                    };
                    img.src = src;
                });
            }

            // Enhanced loading for VR experience
            function loadSkyTexture(imgSrc, mediaName) {
                // Show loading message with sophisticated animation
                loadingMessage.style.display = 'block';
                loadingMessage.style.opacity = '1';
                loadingMessage.innerHTML = 'Loading 360° view...<div class="loading-spinner"></div>';
                
                // Get A-Frame elements
                const sky = document.querySelector('#main-sky');
                const assets = document.querySelector('a-assets');
                
                // Create a new image with crossOrigin attribute
                const img = new Image();
                img.crossOrigin = 'anonymous';
                
                img.onload = function() {
                    // Clean up any previous dynamic images
                    const oldImage = document.getElementById('current-sky-image');
                    if (oldImage) {
                        assets.removeChild(oldImage);
                    }
                    
                    // Create new image asset
                    const newImage = document.createElement('img');
                    newImage.id = 'current-sky-image';
                    newImage.src = imgSrc;
                    newImage.setAttribute('crossorigin', 'anonymous');
                    
                    // Add to assets
                    assets.appendChild(newImage);
                    
                    // Set the sky source to the new image immediately
                    sky.setAttribute('src', '#current-sky-image');
                    
                    // Hide loading message
                    loadingMessage.style.opacity = '0';
                    setTimeout(() => {
                        loadingMessage.style.display = 'none';
                    }, 500);
                    
                    // Update media info with elegant animation
                    currentMediaName.textContent = mediaName;
                    mediaInfo.classList.add('visible');
                    
                    // Hide info after delay with fade
                    setTimeout(() => {
                        mediaInfo.classList.remove('visible');
                    }, 4000);
                    
                    // Mark image as loaded
                    skyImageLoaded = true;
                    console.log('360° image loaded successfully:', mediaName);
                };
                
                img.onerror = function(e) {
                    console.error('Error loading image:', imgSrc, e);
                    loadingMessage.innerHTML = 'Error loading 360° image.<br>Please try another image.<div class="loading-spinner" style="border-top-color: red;"></div>';
                    
                    // Show error for a few seconds, then return to home
                    setTimeout(() => {
                        backToHome.click();
                    }, 3000);
                };
                
                // Start loading the image
                img.src = imgSrc;
            }

            // Image item click handler with sophisticated transitions
            imageItems.forEach((item) => {
                item.addEventListener('click', function() {
                    const imgSrc = this.getAttribute('data-src');
                    const mediaName = this.querySelector('.image-caption').textContent;
                    const category = this.getAttribute('data-category');
                    
                    // Create a transition overlay
                    const transitionOverlay = document.createElement('div');
                    transitionOverlay.style.position = 'fixed';
                    transitionOverlay.style.top = '0';
                    transitionOverlay.style.left = '0';
                    transitionOverlay.style.width = '100%';
                    transitionOverlay.style.height = '100%';
                    transitionOverlay.style.backgroundColor = 'rgba(25, 25, 40, 0.9)';
                    transitionOverlay.style.zIndex = '3000';
                    transitionOverlay.style.opacity = '0';
                    transitionOverlay.style.transition = 'opacity 0.5s ease';
                    document.body.appendChild(transitionOverlay);
                    
                    // Animate the transition
                    setTimeout(() => {
                        transitionOverlay.style.opacity = '1';
                        
                        setTimeout(() => {
                            // Hide home page and show VR container
                            homePage.style.display = 'none';
                            vrContainer.style.display = 'block';
                            backToHome.style.display = 'block';
                            controlPanel.style.display = 'flex';
                            
                            // Update current category and index
                            currentCategory = category;
                            const categoryItems = Array.from(document.querySelectorAll(`.image-item[data-category="${category}"]`));
                            currentMediaIndex = categoryItems.indexOf(this);
                            
                            // Load the sky texture
                            loadSkyTexture(imgSrc, mediaName);
                            
                            // Automatically go into fullscreen mode for the first view
                            setTimeout(() => {
                                // Toggle fullscreen for the first image
                                toggleFullScreen();
                            }, 1000);
                            
                            // Remove the transition overlay
                            setTimeout(() => {
                                transitionOverlay.style.opacity = '0';
                                setTimeout(() => {
                                    transitionOverlay.remove();
                                }, 500);
                            }, 500);
                        }, 500);
                    }, 100);
                });
            });

            // Back to home button handler with sophisticated animation
            backToHome.addEventListener('click', function() {
                // Create a transition overlay
                const transitionOverlay = document.createElement('div');
                transitionOverlay.style.position = 'fixed';
                transitionOverlay.style.top = '0';
                transitionOverlay.style.left = '0';
                transitionOverlay.style.width = '100%';
                transitionOverlay.style.height = '100%';
                transitionOverlay.style.backgroundColor = 'rgba(25, 25, 40, 0.9)';
                transitionOverlay.style.zIndex = '3000';
                transitionOverlay.style.opacity = '0';
                transitionOverlay.style.transition = 'opacity 0.5s ease';
                document.body.appendChild(transitionOverlay);
                
                // Animate the transition
                setTimeout(() => {
                    transitionOverlay.style.opacity = '1';
                    
                    setTimeout(() => {
                        // Exit fullscreen if active
                        if (document.fullscreenElement) {
                            if (document.exitFullscreen) {
                                document.exitFullscreen();
                            } else if (document.mozCancelFullScreen) {
                                document.mozCancelFullScreen();
                            } else if (document.webkitExitFullscreen) {
                                document.webkitExitFullscreen();
                            } else if (document.msExitFullscreen) {
                                document.msExitFullscreen();
                            }
                        }
                        
                        // Show home page and hide VR container
                        homePage.style.display = 'block';
                        vrContainer.style.display = 'none';
                        backToHome.style.display = 'none';
                        controlPanel.style.display = 'none';
                        mediaInfo.classList.remove('visible');
                        loadingMessage.style.display = 'none';
                        
                        // Remove the transition overlay
                        setTimeout(() => {
                            transitionOverlay.style.opacity = '0';
                            setTimeout(() => {
                                transitionOverlay.remove();
                            }, 500);
                        }, 500);
                    }, 500);
                }, 100);
            });

            // Navigation controls
            // Previous button handler
            prevBtn.addEventListener('click', function() {
                // Visual feedback on button press
                this.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
                
                // Get all items from the current category
                const categoryItems = Array.from(document.querySelectorAll(`.image-item[data-category="${currentCategory}"]`));
                
                if (currentMediaIndex > 0) {
                    currentMediaIndex--;
                    const prevImage = categoryItems[currentMediaIndex];
                    const imgSrc = prevImage.getAttribute('data-src');
                    const mediaName = prevImage.querySelector('.image-caption').textContent;
                    
                    // Direct load without animation for better reliability
                    loadSkyTexture(imgSrc, mediaName);
                } else {
                    // Provide feedback when at the beginning
                    this.classList.add('disabled');
                    this.style.animation = 'shake 0.5s ease';
                    
                    setTimeout(() => {
                        this.classList.remove('disabled');
                        this.style.animation = '';
                    }, 500);
                }
            });

            // Next button handler
            nextBtn.addEventListener('click', function() {
                // Visual feedback on button press
                this.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
                
                // Get all items from the current category
                const categoryItems = Array.from(document.querySelectorAll(`.image-item[data-category="${currentCategory}"]`));
                
                if (currentMediaIndex < categoryItems.length - 1) {
                    currentMediaIndex++;
                    const nextImage = categoryItems[currentMediaIndex];
                    const imgSrc = nextImage.getAttribute('data-src');
                    const mediaName = nextImage.querySelector('.image-caption').textContent;
                    
                    // Direct load without animation for better reliability
                    loadSkyTexture(imgSrc, mediaName);
                } else {
                    // Provide feedback when at the end
                    this.classList.add('disabled');
                    this.style.animation = 'shake 0.5s ease';
                    
                    setTimeout(() => {
                        this.classList.remove('disabled');
                        this.style.animation = '';
                    }, 500);
                }
            });

            // Fullscreen toggle button handler (replacing VR toggle)
            vrToggle.addEventListener('click', function() {
                // Visual feedback
                this.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
                
                // Toggle fullscreen
                toggleFullScreen();
            });
            
            // Add keyboard support for navigation
            document.addEventListener('keydown', function(e) {
                if (vrContainer.style.display === 'block') {
                    if (e.key === 'ArrowLeft') {
                        prevBtn.click();
                    } else if (e.key === 'ArrowRight') {
                        nextBtn.click();
                    } else if (e.key === 'Escape') {
                        backToHome.click();
                    } else if (e.key === 'f') {
                        vrToggle.click();
                    }
                }
            });
            
            // Initialize department tabs
            setupDepartmentTabs();
            
            // Preload images
            preloadImages();
            
            // Handle A-Frame scene initialization
            const scene = document.querySelector('a-scene');
            if (scene) {
                scene.addEventListener('loaded', function() {
                    console.log('A-Frame scene loaded and ready');
                });
            }
        });
    </script>
</body>
</html>